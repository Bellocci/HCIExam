<mat-toolbar class="toolbar primary-color-dark">

  <!-- PRIMA RIGA (sempre visibile) -->
  <mat-toolbar-row class="toolbar-row">

    <div class="full-width flex-container">

      <!-- pulsante apertura sidenav -->
      <div class="cell-1of12">
        <button mat-flat-button class="btn-menu btn-menu" (click)="openSidenavFromChild()">
          <mat-icon class="icon-size">menu</mat-icon>
          <span class="label">Sports</span>
        </button>
      </div>

      <!-- Pulsanti: Creazione team - Opzioni di ricerca - Lista giocatori -->
      <div class="flex-cell cell-4of12 flex-container" *ngIf="!(isMobileOrTablet | async)">
        <ng-container *ngIf="isLeagueSelected()">

          <!-- Link alla pagina Create team -->
          <div class="cell-4of12 flex-center-wrap">
            <button mat-flat-button class="btn-menu "
              [ngClass]="isCreateTeamLinkSelected() ? 'btn-menu-link' : 'primary-color-dark'"
              (click)="goToPage(linkEnum.CREATE_TEAM)">
              <span class="label" [ngClass]="isPageSelected(linkEnum.CREATE_TEAM) ? 'bold' : ''">
                {{ linkEnum.CREATE_TEAM.description }}
              </span>
            </button>
          </div>

          <!-- Link alla pagina Options -->
          <div class="cell-4of12 flex-center-wrap">
            <button mat-flat-button class="btn-menu "
              [ngClass]="isPageSelected(linkEnum.OPTIONS) ? 'btn-menu-link' : 'primary-color-dark'"
              (click)="goToPage(linkEnum.OPTIONS)">
              <span class="label" [ngClass]="isPageSelected(linkEnum.OPTIONS) ? 'bold' : ''">
                {{ linkEnum.OPTIONS.description }}
              </span>
            </button>
          </div>

          <!-- link alla pagina Player list-->
          <div class="cell-4of12 flex-center-wrap">
            <button mat-flat-button class="btn-menu "
              [ngClass]="isPageSelected(linkEnum.PLAYER_LIST) ? 'btn-menu-link' : 'primary-color-dark'"
              (click)="goToPage(linkEnum.PLAYER_LIST)">
              <span class="label" [ngClass]="isPageSelected(linkEnum.PLAYER_LIST) ? 'bold' : ''">
                {{ linkEnum.PLAYER_LIST.description }}
              </span>
            </button>
          </div>

        </ng-container>
      </div>

      <!-- Spazio vuoto / Home -->
      <div [ngClass]="(isMobileOrTablet | async) ? 'cell-10of12' : 'cell-4of12'">
        <ng-container *ngIf="(isMobileOrTablet | async)">
          <!-- Link alla pagina di Home -->
          <div class="flex-center-wrap">
            <button mat-flat-button (click)="goToPage(linkEnum.HOME)" class="btn-menu">
              <h2 class="bold">FantasyTeam</h2>
            </button>
          </div>
        </ng-container>
      </div>

      <!-- Utente -->
      <div class="cell-2of12 flex-end flex-center-wrap">

        <!-- Caso utente non autenticato: bottone apertura dialog -->
        <button mat-flat-button class="btn-menu" *ngIf="!userLogged" (click)="openLoginDialog()">
          <mat-icon class="icon-size">account_circle</mat-icon>
          <span class="label">Login</span>
        </button>

        <!-- Caso utente autenticato: MenÃ¹ utente -->
        <ng-container *ngIf="userLogged">
          <button mat-flat-button class="btn-menu full-width" [matMenuTriggerFor]="menuUser">
            <mat-icon class="icon-size">account_circle</mat-icon>
            <span class="label">{{ user.username }}</span>
          </button>
          <mat-menu #menuUser="matMenu" xPosition="before">
            <div class="user-menu">
              <span mat-menu-item (click)="$event.stopPropagation()" disableRipple="true"
                class="label username-menu-panel">
                {{ user.username }}
              </span>
              <button mat-menu-item (click)="goToPage(linkEnum.USER_PROFILE)">
                Lista team
              </button>
              <mat-divider></mat-divider>
              <button mat-menu-item (click)="logout()">Logout</button>
            </div>
          </mat-menu>
        </ng-container>
      </div>

      <ng-container *ngIf="!(isMobileOrTablet | async)">
        <div class="cell-1of12 flex-end flex-center-wrap">
          <!-- Link alla pagina di Home -->
          <button mat-flat-button (click)="goToPage(linkEnum.HOME)" class="btn-menu">
            <mat-icon class="icon-size">home</mat-icon>
            <span class="label">{{ linkEnum.HOME.description }}</span>
          </button>
        </div>
      </ng-container>

    </div>
  </mat-toolbar-row>

  <!-- SECONDA RIGA (visibile solo per mobile / tablet) -->
  <mat-toolbar-row *ngIf="(isMobileOrTablet | async) && isLeagueSelected()" class="toolbar-row">

    <div class="full-width flex-container">

      <!-- Link alla pagina Create team -->
      <div class="cell-4of12 flex-center-wrap">
        <button mat-flat-button class="btn-menu "
          [ngClass]="isCreateTeamLinkSelected() ? 'btn-menu-link' : 'primary-color-dark'"
          (click)="goToPage(linkEnum.CREATE_TEAM)">
          <span class="label" [ngClass]="isPageSelected(linkEnum.CREATE_TEAM) ? 'bold' : ''">
            {{ linkEnum.CREATE_TEAM.description }}
          </span>
        </button>
      </div>

      <!-- Link alla pagina Options -->
      <div class="cell-4of12 flex-center-wrap">
        <button mat-flat-button class="btn-menu "
          [ngClass]="isPageSelected(linkEnum.OPTIONS) ? 'btn-menu-link' : 'primary-color-dark'"
          (click)="goToPage(linkEnum.OPTIONS)">
          <span class="label" [ngClass]="isPageSelected(linkEnum.OPTIONS) ? 'bold' : ''">
            {{ linkEnum.OPTIONS.description }}
          </span>
        </button>
      </div>

      <!-- link alla pagina Player list-->
      <div class="cell-4of12 flex-center-wrap">
        <button mat-flat-button class="btn-menu "
          [ngClass]="isPageSelected(linkEnum.PLAYER_LIST) ? 'btn-menu-link' : 'primary-color-dark'"
          (click)="goToPage(linkEnum.PLAYER_LIST)">
          <span class="label" [ngClass]="isPageSelected(linkEnum.PLAYER_LIST) ? 'bold' : ''">
            {{ linkEnum.PLAYER_LIST.description }}
          </span>
        </button>
      </div>

    </div>

  </mat-toolbar-row>
</mat-toolbar>