<header class="subtitle-position primary-color">
    <h1 class="no-margin">PLAYER LIST</h1>
</header>
<div class="view-list-page">
    <div class="filter-container">
        <div class="role-container">
            <p class="text text-filter">Ruolo giocatori</p>
            <div *ngFor="let role of getRoles()" class="btns-role">
                <button mat-mini-fab 
                class="btn-role" [ngClass]="isRoleSelected(role.name) ? 'btn-selected' : 'btn-not-selected'"
                (click)="selectedRole(role.name)">
                    {{ role.name }}
                </button>
            </div>
        </div>
        <div class="team-container">
            <p class="text text-filter">Squadra</p>
            <div>
                <mat-chip-list *ngIf="!isShortSelectedTeam()">
                    <mat-chip
                    class="mat-elevation-z3" [ngClass]="isTeamSelected(team.name) ? 'btn-selected' : 'btn-not-selected'"
                    *ngFor="let team of getTeam()" 
                    (focus) = "false"
                    (click)="selectedTeam(team.name)">
                        {{ team.name }}
                    </mat-chip>
                </mat-chip-list>
                <mat-form-field appearance="fill" *ngIf="isShortSelectedTeam()">
                    <mat-label>Seleziona squadra</mat-label>
                    <mat-select [formControl]="team_form" multiple>
                      <mat-select-trigger>
                        {{team_form.value?.[0] || ''}}
                        <span *ngIf="(team_form.value?.length || 0) > 1">
                          (+{{(team_form.value?.length || 0) - 1}} {{team_form.value?.length === 2 ? 'squadra' : 'squadre'}})
                        </span>
                      </mat-select-trigger>
                      <mat-option 
                        *ngFor="let team of getTeam()" 
                        (click)="selectedTeam(team.name)" 
                        [value]="team.name">
                        {{team.name}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
        </div>
        <div class="filter">
            <app-filter-player></app-filter-player>
        </div>
    </div>
    <div class="mat-elevation-z5">
        <app-table class="table"></app-table>
    </div>
</div>
